<app-menu></app-menu>
<div class ="component-content">
	<div class =''>
		<div class ='lefthalf'>
			<span class ='component-title'>{{title}}</span>
			<span class='actions'><a routerLink ='/vendor/create' *ngIf='SysSvc.data.user.instance.Admin'><img id ='createnew' width = '25' height = '25' src= 'assets/add-new.png' title ="Add New"></a></span>
		</div>

	<div class='righthalf input-group'>
		<span class ='sortingmargin'>Sort: </span>
		<select [(ngModel)]= 'selectedSortKey' class ='custom-select text-sm-left'>
			<option *ngFor='let sortKey of sortKeys' value = '{{sortKey}}'>{{sortKey}}</option>
		</select>
		<span class='sortingmargin'>Order:</span>
			<select [(ngModel)] = 'sortDesc' class ='custom-select text-sm-left'>
				<option value = 'asc'>Asc</option>
				<option value='desc'>Desc</option>
			</select>
		</div>
	</div>
<p *ngIf= '!vendors'>loading ... </p>
<table class = "table table-sm table-striped table-bordered" *ngIf='vendors'>
	<thead class = "thead-inverse">
		<tr>
			<th>ID</th>
			<th>Code</th>
			<th>Name</th>
			<th>Address</th>
			<th>City</th>
			<th>State</th>
			<th>Zip</th>
			<th>Phone</th>
			<th>Email</th>
			<th>Preapproved</th>
			<th>Actions</th>

		</tr>
	</thead> 
		<tr *ngFor='let vendor of vendors | sort:selectedSortKey:sortDesc'>

			<td>{{vendor.Id}}</td> 
			<td>{{vendor.Code}}</td>
			<td>{{vendor.Name}}</td>
			<td>{{vendor.Address}}</td>
			<td>{{vendor.City}}</td>
			<td>{{vendor.State}}</td>
			<td>{{vendor.Zip}}</td>
			<td>{{vendor.Phone}}</td>
			<td>{{vendor.Email}}</td> <!--not served up -->
			<td>{{vendor.Preapproved ? "YES": "NO"}}</td>
			<td class = 'actions'>
				<a routerLink = '/vendor/detail/{{vendor.Id}}'><img src = 'assets/detail.png' title = 'Detail'></a>
				<a routerLink = '/vendor/edit/{{vendor.Id}}'><img *ngIf='SysSvc.data.user.instance.Admin' src = 'assets/edit.png' title = 'Edit'></a>
			</td>
		</tr>
</table>
